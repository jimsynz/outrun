================
Qualified function calls in various contexts
================

def example(): Result<String, Error> {
    let result = Database.connect(url: "postgres://localhost")
    result |> Database.query(sql: "SELECT * FROM users") |> Result.map_error(mapper: &Logger.error)
}

---

(source_file
  (item
    (function_definition
      (identifier)
      (return_type
        (type_annotation
          (module_path
            (type_identifier))
          (generic_args
            (type_annotation
              (module_path
                (type_identifier)))
            (type_annotation
              (module_path
                (type_identifier))))))
      (block
        (statement
          (let_binding
            (identifier)
            (expression
              (primary_expression
                (function_call
                  (module_path
                    (type_identifier))
                  (identifier)
                  (argument_list
                    (argument
                      (named_argument
                        (identifier)
                        (expression
                          (primary_expression
                            (literal
                              (string
                                (string_content)))))))))))))
        (statement
          (expression
            (pipe_expression
              (pipe_expression
                (primary_expression
                  (identifier))
                (primary_expression
                  (function_call
                    (module_path
                      (type_identifier))
                    (identifier)
                    (argument_list
                      (argument
                        (named_argument
                          (identifier)
                          (expression
                            (primary_expression
                              (literal
                                (string
                                  (string_content)))))))))))
              (primary_expression
                (function_call
                  (module_path
                    (type_identifier))
                  (identifier)
                  (argument_list
                    (argument
                      (named_argument
                        (identifier)
                        (expression
                          (primary_expression
                            (function_capture
                              (qualified_function_ref
                                (module_path
                                  (type_identifier))
                                (identifier)))))))))))))))))
